(function(e){function t(e){return!isNaN(parseFloat(e))&&isFinite(e)}function n(e,t,r,i,s,o,u,a){var f,l,c;if(a){f=i===0?"":r.slice(-i);l=r.slice(-s)}else{f=r.slice(0,i);l=r.slice(0,s)}if(t<o.html(u)[e]()){return 0}if(o.html(l+u)[e]()<o.html(f+u)[e]()){return s}c=parseInt((i+s)/2,10);f=a?r.slice(-c):r.slice(0,c);o.html(f+u);if(o[e]()===t){return c}if(o[e]()>t){s=c-1}else{i=c+1}return n(e,t,r,i,s,o,u,a)}e.fn.truncate=function(r){if(typeof r.center!="undefined"&&typeof r.side=="undefined"){r.side="center";delete r.center}if(typeof r.side!="undefined")switch(r.side){case"center":case"right":break;default:delete r.side}var i={width:"auto",token:"É",side:"right",addclass:false,addtitle:false,multiline:false};r=e.extend(i,r);return this.each(function(){var i=e(this),s={fontFamily:i.css("fontFamily"),fontSize:i.css("fontSize"),fontStyle:i.css("fontStyle"),fontWeight:i.css("fontWeight"),"font-variant":i.css("font-variant"),"text-indent":i.css("text-indent"),"text-transform":i.css("text-transform"),"letter-spacing":i.css("letter-spacing"),"word-spacing":i.css("word-spacing"),display:"none"},o=i.text(),u=e("<span/>").css(s).html(o).appendTo("body"),a=u.width(),f=t(r.width)?r.width:i.width(),l="width",c,h,p;if(r.multiline){u.width(i.width());l="height";h=u.height();p=i.height()+1}else{h=a;p=f}if(h>p){u.text("");if(r.side=="center"){p=parseInt(p/2,10)+1;c=o.slice(0,n(l,p,o,0,o.length,u,r.token,false))+r.token+o.slice(-1*n(l,p,o,0,o.length,u,"",true))}else{c=o.slice(0,n(l,p,o,0,o.length,u,r.token,false))+r.token}if(r.addclass){i.addClass(r.addclass)}if(r.addtitle){i.attr("title",o)}i.empty().append(c)}u.remove()})}})(jQuery);